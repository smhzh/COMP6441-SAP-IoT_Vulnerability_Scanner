from yeelight import discover_bulbs
from yeelight import Bulb
import pprint
import time

# Gets me the info of the bulb eg. ip adress, port numbers, data/details...
# Uses a network scan to find devices with the Yeelight Bulb name and identifies them
# References: https://www.youtube.com/watch?v=o9rlLuUpYxo&t=274s (4:48) (main inspiration came from here)
#             https://www.youtube.com/watch?v=iUm1-EEnS3o

find_yeelight_ip = discover_bulbs()
pprint.pprint(discover_bulbs())

# Create a variable for the bulb found when you get an ip address
blub_detected = Bulb('192.168.1.22')

# Turn off the bulb
blub_detected.turn_off()
# After 2 seconds turn on the bulb
time.sleep(2)
blub_detected.turn_on()
# After 2 seconds change the bulb to green
time.sleep(2)
blub_detected.set_rgb(50,168,44)
# After 2 seconds change the bulb to red
time.sleep(2)
blub_detected.set_rgb(168,50,50)
# After 2 seconds change the bulb to red
time.sleep(2)
blub_detected.set_rgb(255,255,255)